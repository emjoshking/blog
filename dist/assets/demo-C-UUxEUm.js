import{d as I,b as w,r as b,o as g,c as m,F as k,e as q,f as v,a as u,_ as R}from"./index-CwHhtm0G.js";import{s as j}from"./function-call-CyPzRm51.js";import"./mount-component-Doktgzzi.js";const C=""+new URL("IMG_2822-oqaEMoWW.jpeg",import.meta.url).href,A=""+new URL("卡比-BYpKJFnh.jpeg",import.meta.url).href,S=""+new URL("皮敏克-BdUlOTFy.jpeg",import.meta.url).href,x=""+new URL("IMG_3279-7hwqUKQR.jpeg",import.meta.url).href,B=""+new URL("IMG_3324-DFXlJ2XV.jpeg",import.meta.url).href,F=""+new URL("IMG_3342-G9LLn0ba.jpeg",import.meta.url).href,E={class:"card-container"},y=["id"],N=["onClick"],T=["src"],$={class:"card-back"},D=["src"],J=I({__name:"demo",setup(K){w(()=>{f()});const r=[{imgUrl:A,value:"kabi"},{imgUrl:S,value:"piminke"},{imgUrl:x,value:"IMG_3279"},{imgUrl:B,value:"IMG_3324"},{imgUrl:F,value:"IMG_3342"}];let c=b(new Array),d=new Set;const L=e=>Math.floor(Math.random()*e),f=()=>{for(;r.length>0;){const e=L(r.length);c.value.push({value:r[e].value,imgUrl:r[e].imgUrl}),d.has(r[e])?(d.delete(r[e]),r[e]=r[r.length-1],r.pop()):d.add(r[e])}M(c.value)},M=e=>{for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e};let i="",a=0;const U=(e,t,s)=>{console.log(e,"xxxxxx",t,s);const o=document.querySelector(`#card${a}`),n=document.querySelector(`#card${e}`);if(n&&n.classList.toggle("active"),i===t&&setTimeout(()=>{o&&o.classList.toggle("visibility"),n&&n.classList.toggle("visibility"),i="",a=0,Array.from(document.querySelectorAll(".visibility")).length===c.value.length&&j({message:"您已完成所有卡牌翻转，是否重新再来一局。"}).then(()=>{f(),Array.from(document.querySelectorAll(".card")).forEach(G=>{G.classList.remove("visibility","active")})})},500),i&&i!==t){setTimeout(()=>{o&&o.classList.toggle("active"),n&&n.classList.toggle("active")},1e3),i="",a=0;return}i=t,a=e},l=[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],h=[[0,1],[1,0],[0,-1],[-1,0]],_=(e,t,s)=>{if(e<0||t<0||e>=l.length||t>=l[0].length||l[e][t]===1)return!1;if(l[e][t]===0){if(l[e][t]=2,s.push([e,t]),s.length===l.length*l[0].length-2)return console.log(s),!0;for(let o=0;o<h.length;o++){const[n,p]=h[o];if(_(e+n,t+p,s))return!0}l[e][t]=0,s.pop()}return!1};return _(0,1,[]),(e,t)=>(g(),m("div",E,[(g(!0),m(k,null,q(v(c),(s,o)=>(g(),m("div",{class:"card",id:"card"+o,key:o},[u("div",{class:"card-front",onClick:n=>U(o,s.value,"font")},[u("img",{src:v(C),alt:"",srcset:""},null,8,T)],8,N),u("div",$,[u("img",{src:s.imgUrl,alt:"",srcset:""},null,8,D)])],8,y))),128))]))}}),O=R(J,[["__scopeId","data-v-6169c35b"]]);export{O as default};
